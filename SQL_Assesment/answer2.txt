--TODO(outoftime) : set up foreign keys, set up constraints where necessary, like DISTINCT

create table products(id int not null, name varchar, price int);

create table orders(id int not null, productid int, customerid int);

create table customers(id int not null, firstname varchar, lastname varchar, cardnumber int);

insert into products(name, price)
values('playstation3',250);

insert into products(name, price)
values('xbox one',200);

insert into products(name, price)
values('wiiU',450);

--add product iphone

insert into products(name, price)
values('iphone',200);

--add customer tina smith

insert into customers(firstname, lastname, cardnumber)
values('tina','smith',123456);

--create order for tina smith bought an iphone

insert into orders(productid, customerid)
values('idforiphone','idfortina');

--select all orders by tina

select customers.firstname, customers.lastname, orders.productid
from customers
inner join orders on orders.customerid = customers.id
where customers.firstname = 'tina' and customers.lastname = 'smith';

--report all revenue generated by sales of iphone

/*pseudocode: [sorry, I ran out of time]

define function myfunction()
var iphoneSales = count(where orders.productid = products.id and products.name = 'iphone';
var iphonePrice = select products.price where products.name = 'iphone';
var myResult = iphoneSales * iphonePrice;
return myResult;

*/

--increase the price of iphone to 250

update products
set price = 250
where name = 'iphone';